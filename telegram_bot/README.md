# ParserSteel Telegram Bot

Telegram –±–æ—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ –º–∞—Ä–æ–∫ —Å—Ç–∞–ª–∏ —á–µ—Ä–µ–∑ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö ParserSteel.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîç **–ü–æ–∏—Å–∫ –º–∞—Ä–æ–∫** - –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏–ª–∏ —á–µ—Ä–µ–∑ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- ü§ñ **AI –ø–æ–∏—Å–∫** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ —Ä–µ–¥–∫–∏—Ö –º–∞—Ä–æ–∫ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ (OpenAI + Perplexity)
- üîó **–ü–æ–∏—Å–∫ –∞–Ω–∞–ª–æ–≥–æ–≤** - –º–∏—Ä–æ–≤—ã–µ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç—ã –º–∞—Ä–æ–∫ —Å—Ç–∞–ª–∏
- üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ë–î** - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- üí° **–ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - –ø—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –º–∞—Ä–∫–∏!

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
cd telegram_bot
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example`:

```bash
cp .env.example .env
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```env
# Telegram Bot Token (–ø–æ–ª—É—á–∏—Ç—å —É @BotFather)
TELEGRAM_BOT_TOKEN=your_bot_token_here

# ParserSteel API URL (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é localhost)
PARSERSTEEL_API_URL=http://localhost:5001
```

### 3. –ü–æ–ª—É—á–∏—Ç—å Telegram Bot Token

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram –∏ –Ω–∞–π–¥–∏—Ç–µ [@BotFather](https://t.me/BotFather)
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot`
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –∏ –ø–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω –≤ `.env` —Ñ–∞–π–ª

### 4. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ ParserSteel API –∑–∞–ø—É—â–µ–Ω

–ë–æ—Ç –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É API ParserSteel. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω:

```bash
cd ..
docker-compose up -d
```

API –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost:5001`

### 5. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞

```bash
python bot.py
```

–ò–ª–∏ —á–µ—Ä–µ–∑ Docker:

```bash
docker-compose up -d
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ö–æ–º–∞–Ω–¥—ã

- `/start` - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
- `/help` - –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
- `/search <–º–∞—Ä–∫–∞>` - –ü–æ–∏—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –º–∞—Ä–∫–∏
  - –ü—Ä–∏–º–µ—Ä: `/search AISI 304`
- `/analogues <–º–∞—Ä–∫–∞>` - –ù–∞–π—Ç–∏ –º–∏—Ä–æ–≤—ã–µ –∞–Ω–∞–ª–æ–≥–∏
  - –ü—Ä–∏–º–µ—Ä: `/analogues 12–•18–ù10–¢`
- `/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫

–ü—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –º–∞—Ä–∫–∏ –≤ —á–∞—Ç (–±–µ–∑ –∫–æ–º–∞–Ω–¥—ã):

```
420
```

```
AISI 304
```

```
12–•18–ù10–¢
```

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç –ø–æ–∏—Å–∫!

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–æ–∏—Å–∫ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω–æ–π –º–∞—Ä–∫–∏

```
–í—ã: 420
–ë–æ—Ç:
üîß –ú–∞—Ä–∫–∞: 420

üìä –•–∏–º–∏—á–µ—Å–∫–∏–π —Å–æ—Å—Ç–∞–≤:
  ‚Ä¢ C: 0.15-0.40%
  ‚Ä¢ Cr: 12.0-14.0%
  ‚Ä¢ Mn: 1.00%

üîó –ú–∏—Ä–æ–≤—ã–µ –∞–Ω–∞–ª–æ–≥–∏: 40–•13, 1.4028, SUS420J1
```

### –ü–æ–∏—Å–∫ —Ä–µ–¥–∫–æ–π –º–∞—Ä–∫–∏ (AI)

```
–í—ã: /search Bohler K888
–ë–æ—Ç:
üîß –ú–∞—Ä–∫–∞: Bohler K888 ü§ñ (AI)

üè¢ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å: Bohler (–ê–≤—Å—Ç—Ä–∏—è)

üìä –•–∏–º–∏—á–µ—Å–∫–∏–π —Å–æ—Å—Ç–∞–≤:
  ‚Ä¢ C: 0.65%
  ‚Ä¢ Si: 0.25%
  ‚Ä¢ Mn: 0.40%
  ‚Ä¢ Cr: 4.20%
  ‚Ä¢ Mo: 3.20%
  ‚Ä¢ V: 3.70%

üí° –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ: –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞–ª—å –¥–ª—è —Ö–æ–ª–æ–¥–Ω–æ–π —à—Ç–∞–º–ø–æ–≤–∫–∏
```

### –ü–æ–∏—Å–∫ –∞–Ω–∞–ª–æ–≥–æ–≤

```
–í—ã: /analogues 12–•18–ù10–¢
–ë–æ—Ç:
üîó –ê–Ω–∞–ª–æ–≥–∏ –¥–ª—è: 12–•18–ù10–¢

–ú–∏—Ä–æ–≤—ã–µ –∞–Ω–∞–ª–æ–≥–∏:
  ‚Ä¢ AISI 321
  ‚Ä¢ DIN 1.4541
  ‚Ä¢ SUS321
  ‚Ä¢ 06Cr18Ni11Ti

–•–∏–º–∏—á–µ—Å–∫–∏–π —Å–æ—Å—Ç–∞–≤ –∏—Å—Ö–æ–¥–Ω–æ–π –º–∞—Ä–∫–∏:
  ‚Ä¢ C: 0.12%
  ‚Ä¢ Cr: 18.0%
  ‚Ä¢ Ni: 10.0%
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
telegram_bot/
‚îú‚îÄ‚îÄ bot.py              # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îú‚îÄ‚îÄ config.py           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (API endpoints)
‚îú‚îÄ‚îÄ handlers/           # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ start.py        # /start –∫–æ–º–∞–Ω–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ help_command.py # /help –∫–æ–º–∞–Ω–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ search.py       # –ü–æ–∏—Å–∫ –º–∞—Ä–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ analogues.py    # –ü–æ–∏—Å–∫ –∞–Ω–∞–ª–æ–≥–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ stats.py        # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ë–î
‚îú‚îÄ‚îÄ requirements.txt    # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env               # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—å!)
‚îú‚îÄ‚îÄ .env.example       # –®–∞–±–ª–æ–Ω –¥–ª—è .env
‚îú‚îÄ‚îÄ Dockerfile         # Docker –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ docker-compose.yml # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ README.md          # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –°–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑
docker-compose build

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
docker-compose up -d

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f bot

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞
docker-compose down
```

### Systemd Service (Linux)

–°–æ–∑–¥–∞–π—Ç–µ `/etc/systemd/system/parsersteel-bot.service`:

```ini
[Unit]
Description=ParserSteel Telegram Bot
After=network.target

[Service]
Type=simple
User=your_user
WorkingDirectory=/path/to/ParserSteel/telegram_bot
ExecStart=/usr/bin/python3 /path/to/ParserSteel/telegram_bot/bot.py
Restart=always

[Install]
WantedBy=multi-user.target
```

–ó–∞–ø—É—Å—Ç–∏—Ç—å:

```bash
sudo systemctl daemon-reload
sudo systemctl enable parsersteel-bot
sudo systemctl start parsersteel-bot
```

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.9+
- ParserSteel API (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –Ω–∞ `PARSERSTEEL_API_URL`)
- Telegram Bot Token

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–æ–∫–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤ `.env`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω: `docker-compose ps` –∏–ª–∏ `ps aux | grep bot.py`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker-compose logs bot`

### –û—à–∏–±–∫–∞ "Connection refused"

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ ParserSteel API –∑–∞–ø—É—â–µ–Ω:
   ```bash
   curl http://localhost:5001/api/stats
   ```
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `PARSERSTEEL_API_URL` –≤ `.env`

### AI –ø–æ–∏—Å–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º ParserSteel –µ—Å—Ç—å `OPENAI_API_KEY` –∏ `PERPLEXITY_API_KEY`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å AI –≤ `/stats`

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–≤–æ–±–æ–¥–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

## –ê–≤—Ç–æ—Ä

ParserSteel Team
