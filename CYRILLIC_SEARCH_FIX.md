# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∏—Å–∫–∞ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –º–∞—Ä–æ–∫ –Ω–∞ –∫–∏—Ä–∏–ª–ª–∏—Ü–µ —á–µ—Ä–µ–∑ Perplexity API

## –ü—Ä–æ–±–ª–µ–º–∞

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- Perplexity API –ø–ª–æ—Ö–æ –∏—â–µ—Ç —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ –º–∞—Ä–∫–∏ –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–µ –Ω–∞ –∫–∏—Ä–∏–ª–ª–∏—Ü–µ (16–•–ì–ú–§–¢–†, –ì13, 4–•5–ú–§–°)
- Web –≤–µ—Ä—Å–∏—è Perplexity –Ω–∞—Ö–æ–¥–∏—Ç —ç—Ç–∏ –º–∞—Ä–∫–∏ –ª—É—á—à–µ, —á–µ–º API
- –ü—Ä–æ–º–ø—Ç –±—ã–ª –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º, –±–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –¥–ª—è –∫–∏—Ä–∏–ª–ª–∏—Ü—ã

**–ü—Ä–∏—á–∏–Ω–∞:**
- AI –Ω–µ –ø–æ–Ω–∏–º–∞–ª, —á—Ç–æ –º–∞—Ä–∫–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- –ù–µ –∏—Å–∫–∞–ª –≤ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–∞—Ö (–ì–û–°–¢, splav.ru)
- –ú–æ–≥ –ø—ã—Ç–∞—Ç—å—Å—è —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –º–∞—Ä–∫—É –≤ –ª–∞—Ç–∏–Ω–∏—Ü—É

---

## –†–µ—à–µ–Ω–∏–µ

### 1. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã

–î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `_is_cyrillic()` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤:

```python
def _is_cyrillic(self, text: str) -> bool:
    """Check if text contains Cyrillic characters"""
    return bool(re.search(r'[–∞-—è–ê-–Ø—ë–Å]', text))
```

**–ü—Ä–∏–º–µ—Ä—ã:**
- `"16–•–ì–ú–§–¢–†"` ‚Üí True (–µ—Å—Ç—å –•, –ì, –ú, –§, –¢, –†)
- `"–ì13"` ‚Üí True (–µ—Å—Ç—å –ì)
- `"440C"` ‚Üí False (—Ç–æ–ª—å–∫–æ –ª–∞—Ç–∏–Ω–∏—Ü–∞)

---

### 2. –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏—Ö –º–∞—Ä–æ–∫

–ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ –Ω–∞—á–∞–ª–æ –ø—Ä–æ–º–ø—Ç–∞:

```
üá∑üá∫ –í–ê–ñ–ù–û: –ú–∞—Ä–∫–∞ "16–•–ì–ú–§–¢–†" –Ω–∞–ø–∏—Å–∞–Ω–∞ –ö–ò–†–ò–õ–õ–ò–¶–ï–ô (—Ä—É—Å—Å–∫–∏–π –∞–ª—Ñ–∞–≤–∏—Ç).

–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø –î–õ–Ø –†–û–°–°–ò–ô–°–ö–ò–• –ú–ê–†–û–ö:
1. –ò—Å–∫–∞—Ç—å –º–∞—Ä–∫—É –¢–û–ß–ù–û –ö–ê–ö –ù–ê–ü–ò–°–ê–ù–û: "16–•–ì–ú–§–¢–†" (–ù–ï —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ –ª–∞—Ç–∏–Ω–∏—Ü—É!)
2. –ò—Å–∫–∞—Ç—å –≤ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–∞—Ö:
   - –ì–û–°–¢ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã (GOST standards)
   - –†–æ—Å—Å–∏–π—Å–∫–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–∏ —Å—Ç–∞–ª–∏
   - –†–æ—Å—Å–∏–π—Å–∫–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (splav.ru, metallicheckiy-portal.ru)
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
4. –ï—Å–ª–∏ –º–∞—Ä–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –ø–æ —Ç–æ—á–Ω–æ–º—É —Å–æ–≤–ø–∞–¥–µ–Ω–∏—é, –ù–ï –ò–ó–û–ë–†–ï–¢–ê–¢–¨ –¥–∞–Ω–Ω—ã–µ - –≤–µ—Ä–Ω—É—Ç—å "found": false

–ü–†–ò–ú–ï–†–´ –†–û–°–°–ò–ô–°–ö–ò–• –ò–°–¢–û–ß–ù–ò–ö–û–í:
- https://splav.kz/ (—Ä–æ—Å—Å–∏–π—Å–∫–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞–ª–µ–π)
- http://www.metallicheckiy-portal.ru/ (—Ä–æ—Å—Å–∏–π—Å–∫–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –ì–û–°–¢)
- –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∞–π—Ç—ã —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –∑–∞–≤–æ–¥–æ–≤ (–°–µ–≤–µ—Ä—Å—Ç–∞–ª—å, –ú–ú–ö, –ù–õ–ú–ö)
```

---

### 3. –£–ª—É—á—à–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–æ–æ–±—â–µ–Ω–∏–π

–í `system_message` –¥–ª—è Perplexity API –¥–æ–±–∞–≤–ª–µ–Ω–æ:

```python
if has_cyrillic:
    cyrillic_note = (
        "üá∑üá∫ RUSSIAN/CYRILLIC GRADE DETECTED:\n"
        "- Search using the EXACT Cyrillic spelling (DO NOT transliterate to Latin)\n"
        "- Prioritize Russian sources: GOST standards, splav.ru, Russian steel manufacturers\n"
        "- Use Russian language search queries for better results\n"
        "- Include Russian databases in Tier 3: splav.kz, metallicheckiy-portal.ru\n\n"
    )
```

---

### 4. –î–æ–±–∞–≤–ª–µ–Ω—ã —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –≤ –ø—Ä–∏–º–µ—Ä—ã

```
Examples of CORRECT source_url (page/PDF with composition):
‚úì "https://splav.kz/ru/..." (Russian steel database - EXCELLENT for GOST grades)
‚úì "http://www.metallicheckiy-portal.ru/..." (Russian metallurgy portal with GOST standards)
```

---

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

### –§–∞–π–ª: `ai_search.py`

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 1: –ò–º–ø–æ—Ä—Ç `re` (—Å—Ç—Ä–æ–∫–∞ 9)
```python
import re
```

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 2: –§—É–Ω–∫—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–∏—Ä–∏–ª–ª–∏—Ü—ã (—Å—Ç—Ä–æ–∫–∏ 598-600)
```python
def _is_cyrillic(self, text: str) -> bool:
    """Check if text contains Cyrillic characters"""
    return bool(re.search(r'[–∞-—è–ê-–Ø—ë–Å]', text))
```

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 3: –£–ª—É—á—à–µ–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç (—Å—Ç—Ä–æ–∫–∏ 601-633)
–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –º–∞—Ä–æ–∫.

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 4: System message –≤ Perplexity (—Å—Ç—Ä–æ–∫–∏ 216-231)
–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ system_message.

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 5: –ü—Ä–∏–º–µ—Ä—ã —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (—Å—Ç—Ä–æ–∫–∏ 720-721)
–î–æ–±–∞–≤–ª–µ–Ω—ã splav.kz –∏ metallicheckiy-portal.ru –≤ –ø—Ä–∏–º–µ—Ä—ã.

---

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –°—Ü–µ–Ω–∞—Ä–∏–π: –ü–æ–∏—Å–∫ –º–∞—Ä–∫–∏ "16–•–ì–ú–§–¢–†"

**–®–∞–≥ 1:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç "16–•–ì–ú–§–¢–†" –∏ –Ω–∞–∂–∏–º–∞–µ—Ç ü§ñ AI Perplexity

**–®–∞–≥ 2:** AI Search –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–∏—Ä–∏–ª–ª–∏—Ü—É
```python
has_cyrillic = self._is_cyrillic("16–•–ì–ú–§–¢–†")  # ‚Üí True
```

**–®–∞–≥ 3:** –°–æ–∑–¥–∞–µ—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç
```
üá∑üá∫ –í–ê–ñ–ù–û: –ú–∞—Ä–∫–∞ "16–•–ì–ú–§–¢–†" –Ω–∞–ø–∏—Å–∞–Ω–∞ –ö–ò–†–ò–õ–õ–ò–¶–ï–ô (—Ä—É—Å—Å–∫–∏–π –∞–ª—Ñ–∞–≤–∏—Ç).

–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø –î–õ–Ø –†–û–°–°–ò–ô–°–ö–ò–• –ú–ê–†–û–ö:
1. –ò—Å–∫–∞—Ç—å –º–∞—Ä–∫—É –¢–û–ß–ù–û –ö–ê–ö –ù–ê–ü–ò–°–ê–ù–û: "16–•–ì–ú–§–¢–†" (–ù–ï —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∏—Ä–æ–≤–∞—Ç—å!)
2. –ò—Å–∫–∞—Ç—å –≤ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–∞—Ö (–ì–û–°–¢, splav.ru)
...

Find detailed information about steel grade "16–•–ì–ú–§–¢–†".
...
```

**–®–∞–≥ 4:** Perplexity API –ø–æ–ª—É—á–∞–µ—Ç:
- User prompt —Å –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–æ–π –º–∞—Ä–∫–æ–π –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º
- System message —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∏—Å–∫–∞—Ç—å –≤ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–∞—Ö
- –ü—Ä–∏–º–µ—Ä—ã —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö URL –≤ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è—Ö

**–®–∞–≥ 5:** Perplexity:
- –ò—â–µ—Ç "16–•–ì–ú–§–¢–†" –ë–ï–ó —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (splav.kz, metallicheckiy-portal.ru)
- –ò—â–µ—Ç –ì–û–°–¢ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å —Ö–∏–º—Å–æ—Å—Ç–∞–≤–æ–º

---

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —É–∫–∞–∑—ã–≤–∞—Ç—å —è–∑—ã–∫
- –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –ª—é–±—ã—Ö –º–∞—Ä–æ–∫ —Å –∫–∏—Ä–∏–ª–ª–∏—Ü–µ–π

### ‚úÖ –¢–æ—á–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞
- –ú–∞—Ä–∫–∞ –∏—â–µ—Ç—Å—è –¢–û–ß–ù–û –∫–∞–∫ –Ω–∞–ø–∏—Å–∞–Ω–∞ (–Ω–µ —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∏—Ä—É–µ—Ç—Å—è)
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ä–æ—Å—Å–∏–π—Å–∫–∏–º –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º –¥–ª—è –ì–û–°–¢ –º–∞—Ä–æ–∫

### ‚úÖ –õ—É—á—à–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
- splav.kz - –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –±–∞–∑–∞ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –º–∞—Ä–æ–∫
- metallicheckiy-portal.ru - –ì–û–°–¢ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã
- –°–∞–π—Ç—ã —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –∑–∞–≤–æ–¥–æ–≤

### ‚úÖ –ö–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö
- API —Ç–µ–ø–µ—Ä—å –∑–Ω–∞–µ—Ç –≥–¥–µ –∏—Å–∫–∞—Ç—å —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ –º–∞—Ä–∫–∏
- –ü–æ–≤—ã—à–∞–µ—Ç—Å—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –°–Ω–∏–∂–∞–µ—Ç—Å—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–¥—É–º–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

---

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –î–æ –∏ –ü–æ—Å–ª–µ

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

**–ü—Ä–æ–º–ø—Ç:**
```
Find detailed information about steel grade "16–•–ì–ú–§–¢–†".

CRITICAL INSTRUCTIONS:
1. Search multiple reliable sources (manufacturer websites, MatWeb, steelnumber.com, etc.)
...
```

**–ü—Ä–æ–±–ª–µ–º–∞:** AI –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç —á—Ç–æ —ç—Ç–æ —Ä—É—Å—Å–∫–∞—è –º–∞—Ä–∫–∞, –∏—â–µ—Ç –≤ –∑–∞–ø–∞–¥–Ω—ã—Ö –±–∞–∑–∞—Ö, –º–æ–∂–µ—Ç –Ω–µ –Ω–∞–π—Ç–∏ –∏–ª–∏ —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∏—Ä–æ–≤–∞—Ç—å.

---

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

**–ü—Ä–æ–º–ø—Ç:**
```
üá∑üá∫ –í–ê–ñ–ù–û: –ú–∞—Ä–∫–∞ "16–•–ì–ú–§–¢–†" –Ω–∞–ø–∏—Å–∞–Ω–∞ –ö–ò–†–ò–õ–õ–ò–¶–ï–ô (—Ä—É—Å—Å–∫–∏–π –∞–ª—Ñ–∞–≤–∏—Ç).

–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø –î–õ–Ø –†–û–°–°–ò–ô–°–ö–ò–• –ú–ê–†–û–ö:
1. –ò—Å–∫–∞—Ç—å –º–∞—Ä–∫—É –¢–û–ß–ù–û –ö–ê–ö –ù–ê–ü–ò–°–ê–ù–û: "16–•–ì–ú–§–¢–†" (–ù–ï —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ –ª–∞—Ç–∏–Ω–∏—Ü—É!)
2. –ò—Å–∫–∞—Ç—å –≤ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–∞—Ö:
   - –ì–û–°–¢ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã (GOST standards)
   - –†–æ—Å—Å–∏–π—Å–∫–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–∏ —Å—Ç–∞–ª–∏
   - –†–æ—Å—Å–∏–π—Å–∫–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (splav.ru, metallicheckiy-portal.ru)
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ

Find detailed information about steel grade "16–•–ì–ú–§–¢–†".
...
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** AI –ø–æ–Ω–∏–º–∞–µ—Ç —á—Ç–æ –º–∞—Ä–∫–∞ —Ä–æ—Å—Å–∏–π—Å–∫–∞—è, –∏—â–µ—Ç –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–∞—Ö, –Ω–∞—Ö–æ–¥–∏—Ç –ì–û–°–¢ –¥–∞–Ω–Ω—ã–µ.

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 1: –ú–∞—Ä–∫–∞ —Å –∫–∏—Ä–∏–ª–ª–∏—Ü–µ–π "16–•–ì–ú–§–¢–†"

```bash
# 1. –û—Ç–∫—Ä—ã—Ç—å http://localhost:5001
# 2. –í–≤–µ—Å—Ç–∏ "16–•–ì–ú–§–¢–†"
# 3. –ù–∞–∂–∞—Ç—å ü§ñ AI Perplexity
# ‚úÖ –û–∂–∏–¥–∞–µ—Ç—Å—è: –ú–∞—Ä–∫–∞ –Ω–∞–π–¥–µ–Ω–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ö–∏–º—Å–æ—Å—Ç–∞–≤–æ–º
```

### –¢–µ—Å—Ç 2: –ú–∞—Ä–∫–∞ "–ì13"

```bash
# 1. –í–≤–µ—Å—Ç–∏ "–ì13"
# 2. –ù–∞–∂–∞—Ç—å ü§ñ AI Perplexity
# ‚úÖ –û–∂–∏–¥–∞–µ—Ç—Å—è:
#   - –ù–∞–π–¥–µ–Ω–∞ –º–∞—Ä–∫–∞ –≤—ã—Å–æ–∫–æ–º–∞—Ä–≥–∞–Ω—Ü–æ–≤–∏—Å—Ç–∞—è —Å—Ç–∞–ª—å (–ì–û–°–¢)
#   - C: ~1.0-1.4%, Mn: ~11.0-15.0%
#   - –ò—Å—Ç–æ—á–Ω–∏–∫: splav.kz –∏–ª–∏ –ì–û–°–¢
```

### –¢–µ—Å—Ç 3: –ú–∞—Ä–∫–∞ "4–•5–ú–§–°"

```bash
# 1. –í–≤–µ—Å—Ç–∏ "4–•5–ú–§–°"
# 2. –ù–∞–∂–∞—Ç—å ü§ñ AI Perplexity
# ‚úÖ –û–∂–∏–¥–∞–µ—Ç—Å—è:
#   - –ù–∞–π–¥–µ–Ω–∞ –º–∞—Ä–∫–∞ —à—Ç–∞–º–ø–æ–≤–∞—è —Å—Ç–∞–ª—å (–ì–û–°–¢ 5950)
#   - C: ~0.32-0.40%, Cr: ~4.5-5.5%, Mo: ~1.2-1.5%, V: ~0.3-0.5%
```

### –¢–µ—Å—Ç 4: –õ–∞—Ç–∏–Ω—Å–∫–∞—è –º–∞—Ä–∫–∞ "440C" (–Ω–µ –¥–æ–ª–∂–Ω–∞ –∏–∑–º–µ–Ω–∏—Ç—å—Å—è)

```bash
# 1. –í–≤–µ—Å—Ç–∏ "440C"
# 2. –ù–∞–∂–∞—Ç—å ü§ñ AI Perplexity
# ‚úÖ –û–∂–∏–¥–∞–µ—Ç—Å—è:
#   - –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ (–Ω–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –¥–ª—è –∫–∏—Ä–∏–ª–ª–∏—Ü—ã)
#   - –ò—â–µ—Ç –≤ –∑–∞–ø–∞–¥–Ω—ã—Ö –±–∞–∑–∞—Ö (MatWeb, AISI)
```

---

## –õ–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

–ü—Ä–∏ –ø–æ–∏—Å–∫–µ –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–æ–π –º–∞—Ä–∫–∏ –≤ –ª–æ–≥–∞—Ö Docker –±—É–¥–µ—Ç –≤–∏–¥–Ω–æ:

```
[Perplexity] Searching for '16–•–ì–ú–§–¢–†' with internet access...
[Perplexity] Found result for '16–•–ì–ú–§–¢–†'
[OK] –ù–∞–π–¥–µ–Ω–æ 8 –≤–∞–ª–∏–¥–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
[INFO] Confidence: high (85/100)
```

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏:
```bash
docker logs parser-steel-app --tail 50 -f
```

---

## –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã

| –§–∞–π–ª | –°—Ç—Ä–æ–∫–∏ | –ò–∑–º–µ–Ω–µ–Ω–∏–µ |
|------|--------|-----------|
| ai_search.py | 9 | –î–æ–±–∞–≤–ª–µ–Ω import re |
| ai_search.py | 598-600 | –§—É–Ω–∫—Ü–∏—è _is_cyrillic() |
| ai_search.py | 601-633 | –£–ª—É—á—à–µ–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç —Å –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ |
| ai_search.py | 216-231 | System message —Å –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ |
| ai_search.py | 720-721 | –î–æ–±–∞–≤–ª–µ–Ω—ã —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –≤ –ø—Ä–∏–º–µ—Ä—ã |

**–í—Å–µ–≥–æ:** 5 –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ 1 —Ñ–∞–π–ª–µ

---

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### ‚ö†Ô∏è –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–∞—á–µ—Å—Ç–≤–∞ Perplexity API
- –ï—Å–ª–∏ API –Ω–µ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ä–æ—Å—Å–∏–π—Å–∫–∏–º —Å–∞–π—Ç–∞–º ‚Üí –Ω–µ –Ω–∞–π–¥–µ—Ç
- –ï—Å–ª–∏ splav.kz –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Üí –º–æ–∂–µ—Ç –Ω–µ –Ω–∞–π—Ç–∏ —Ä–µ–¥–∫–∏–µ –º–∞—Ä–∫–∏

### ‚ö†Ô∏è –ù–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç 100% –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–µ
- –°—Ç–∞—Ä—ã–µ/—Ä–µ–¥–∫–∏–µ –ì–û–°–¢ –º–∞—Ä–∫–∏ –º–æ–≥—É—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ
- API –º–æ–∂–µ—Ç –Ω–µ –∏–º–µ—Ç—å –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–∞–∫—Ä—ã—Ç—ã–º –±–∞–∑–∞–º –¥–∞–Ω–Ω—ã—Ö

### ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—è
- –ú–∞—Ä–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –Ω–∞–ø–∏—Å–∞–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ (–Ω–µ "16—Ö–≥–º—Ñ—Ç—Ä", –∞ "16–•–ì–ú–§–¢–†")
- –û—à–∏–±–∫–∏ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ ‚Üí AI –Ω–µ –Ω–∞–π–¥–µ—Ç

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 1. –î–æ–±–∞–≤–∏—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏–∏

–ï—Å–ª–∏ –º–∞—Ä–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –ø–æ –∫–∏—Ä–∏–ª–ª–∏—Ü–µ, –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã:
- "16–•–ì–ú–§–¢–†" ‚Üí "16KhGMFTR" ‚Üí "16HGMFTR"

```python
def _get_transliteration_variants(self, grade_name: str) -> List[str]:
    """Get transliteration variants for Cyrillic grades"""
    # –• ‚Üí Kh, X
    # –ì ‚Üí G
    # –ú ‚Üí M
    # –§ ‚Üí F
    # –° ‚Üí S
    variants = [grade_name]
    # Add transliterated variants
    return variants
```

### 2. –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è —á–∞—Å—Ç—ã—Ö –º–∞—Ä–æ–∫

```python
# –î–ª—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ì–û–°–¢ –º–∞—Ä–æ–∫ —Å–æ–∑–¥–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π –∫—ç—à
COMMON_GOST_GRADES = {
    "–ì13": {...},  # –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
    "16–•–ì–ú–§–¢–†": {...},
    "4–•5–ú–§–°": {...}
}
```

### 3. Fallback –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é –ë–î –ì–û–°–¢

–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑—É –ì–û–°–¢ –º–∞—Ä–æ–∫ –≤ –ª–æ–∫–∞–ª—å–Ω—É—é –ë–î:
- –ü–∞—Ä—Å–∏—Ç—å splav.kz
- –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ì–û–°–¢ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã
- –î–æ–±–∞–≤–∏—Ç—å –≤ steel_database.db

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–¢–µ–ø–µ—Ä—å Perplexity API —É–º–µ–µ—Ç:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∫–∏—Ä–∏–ª–ª–∏—Ü—É
- ‚úÖ –ò—Å–∫–∞—Ç—å —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ –º–∞—Ä–∫–∏ –ë–ï–ó —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏–∏
- ‚úÖ –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å splav.kz –∏ –ì–û–°–¢ –±–∞–∑—ã

**–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é! üöÄ**

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏—Å–∫–∞—Ç—å "16–•–ì–ú–§–¢–†", "–ì13", "4–•5–ú–§–°" —á–µ—Ä–µ–∑ AI Perplexity.
